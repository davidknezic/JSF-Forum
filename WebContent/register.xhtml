<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
</head>
<body>
	<ui:composition template="template.xhtml">
		<ui:define name="content">
			<h:form>
				<div class="block">
					<h2>
						<h:outputText value="#{msgs.register}" />
					</h2>
					<h:panelGrid columns="2" columnClasses="left2,"
						rendered="#{!loginBean.loggedin}">
						<f:facet name="header" />

						<h:outputText value="#{msgs.username}" />
						<h:panelGroup>
							<h:inputText value="#{registerBean.name}" id="usernameIn"
								required="true" requiredMessage="usernameRequired" validator="UsernameValidator" >
								<f:validateLength minimum="3" />
							</h:inputText>
							<h:message styleClass="messages" for="usernameIn" />
						</h:panelGroup>

						<h:outputText value="#{msgs.password}" />
						<h:panelGroup>
							<h:inputSecret value="#{registerBean.password}" id="pw"
								required="true" requiredMessage="#{msgs.passwordRequired}"
								validatorMessage="#{msgs.passwordMin}"
								binding="#{equalityValidator.v2}">
								<f:validateLength minimum="5" />
							</h:inputSecret>
							<h:message styleClass="messages" for="pw" />
						</h:panelGroup>

						<h:outputText value="#{msgs.passwordRepeat}" />
						<h:panelGroup>
							<h:inputSecret value="#{registerBean.passwordRepeated}"
								id="pwRep" required="true" requiredMessage="#{msgs.passwordRequired}"
								validator="#{equalityValidator.validate}"
								validatorMessage="#{msgs.passwordsNotEqual}" />
							<h:message styleClass="messages" for="pwRep" />
						</h:panelGroup>

						<h:outputText value="#{msgs.email}" />
						<h:panelGroup>
							<h:inputText value="#{registerBean.email}" id="email"
								required="true" requiredMessage="#{msgs.emailRequired}"
								validator="EmailValidator" validatorMessage="#{msgs.emailInvalid}" />
							<h:message styleClass="messages" for="email" />
						</h:panelGroup>

						<h:panelGroup>
						</h:panelGroup>
						<h:panelGroup>
							<h:commandButton value="#{msgs.register}"
								action="#{registerBean.save}">
							</h:commandButton>
						</h:panelGroup>
					</h:panelGrid>
					<h:panelGrid columns="1" columnClasses="left2,"
						rendered="#{loginBean.loggedin}">
						<h:outputText value="#{msgs.alreadyRegistered}" />
					</h:panelGrid>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</body>
</html>